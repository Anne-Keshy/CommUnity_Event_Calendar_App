ğŸ“‹ MONGODB ATLAS CONNECTION TROUBLESHOOTING GUIDE
================================================================================

Your MongoDB Atlas connection is failing at the DNS resolution step.
This means your computer cannot reach communityapp.ktglocw.mongodb.net

PROBLEM DIAGNOSIS:
  âŒ DNS Resolution FAILED: [Errno 11001] getaddrinfo failed
  
ROOT CAUSES (in order of likelihood):
  1. Your computer is not connected to the internet properly
  2. Your network has a DNS server that's blocking MongoDB Atlas domains
  3. Your ISP or firewall is blocking connections to MongoDB
  4. Your VPN is interfering with the connection

================================================================================
STEP-BY-STEP TROUBLESHOOTING:
================================================================================

STEP 1: Verify Internet Connection
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Run in PowerShell:
  ping google.com
  
Expected: Should show replies from google.com

If this FAILS â†’ Your internet connection is down. Fix that first.


STEP 2: Check DNS Specifically
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Run in PowerShell:
  nslookup communityapp.ktglocw.mongodb.net
  
Expected: Should show the IP address (e.g., 23.251.x.x or similar)

If this FAILS â†’ Your DNS server cannot resolve MongoDB Atlas. Try:
  â€¢ Change DNS to 8.8.8.8 (Google) or 1.1.1.1 (Cloudflare)
  â€¢ Or contact your ISP/network administrator


STEP 3: Check If VPN is Active
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
If you have a VPN:
  â€¢ Disconnect the VPN
  â€¢ Try the connection again
  â€¢ Some VPNs block MongoDB connections for security reasons


STEP 4: Temporarily Disable Firewall (For Testing Only)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
âš ï¸  WARNING: Only do this for testing! Re-enable after.

On Windows:
  1. Settings â†’ Privacy & Security â†’ Windows Defender Firewall
  2. Click "Allow an app through firewall"
  3. Check if Python is allowed for both Private and Public networks
  
Or try in PowerShell (Admin):
  # Temporarily disable firewall (TESTING ONLY)
  Set-NetFirewallProfile -Profile Domain,Public,Private -Enabled $false
  
  # Re-enable it after testing
  Set-NetFirewallProfile -Profile Domain,Public,Private -Enabled $true


STEP 5: Flush DNS Cache
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Run in PowerShell (as Administrator):
  ipconfig /flushdns
  
Then try the connection again.


STEP 6: Add MongoDB Atlas to Windows Firewall
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Run in PowerShell (as Administrator):
  # Allow Python (your interpreter) through the firewall
  New-NetFirewallRule -DisplayName "Python MongoDB" -Direction Outbound -Program "C:\Users\user\Downloads\Community_Event_App-main\.venv\Scripts\python.exe" -Action Allow

  # Allow MongoDB port explicitly
  New-NetFirewallRule -DisplayName "MongoDB Atlas Port" -Direction Outbound -Action Allow -Protocol tcp -RemotePort 27017


STEP 7: Check Network Adapter Settings
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Run in PowerShell:
  Get-NetAdapter | Select-Object Name, Status, MediaConnectionState
  
Expected: Should show your network adapter as "Up" and "Connected"


STEP 8: Update Your Python Certificate Bundle (For TLS Issues)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Run in PowerShell:
  pip install --upgrade certifi

================================================================================
QUICK CONNECTION TEST (After Troubleshooting)
================================================================================

Once you've fixed the DNS/network issue, run:

  $env:MONGO_URI = 'mongodb://localhost:27017/event_management'
  $env:MONGO_DBNAME = 'event_management'
  & '.\.venv\Scripts\Activate.ps1'
  python .\event-management-backend\test_atlas_connection.py


ALTERNATIVE: Check MongoDB Atlas Dashboard
================================================================================

If local connection still fails, verify in the MongoDB Atlas console:

1. Go to: https://account.mongodb.com
2. Log in with your MongoDB account
3. Click on your cluster: "communityapp"
4. Check:
   - âœ… Cluster status is "Available" (green check)
   - âœ… Your IP is in Network Access whitelist
   - âœ… Database user "francischeboo404_db_user" exists
   - âœ… Connection string is correct

5. Click "Connect" button in Atlas and copy the latest connection string


CONTACT SUPPORT
================================================================================

If the above steps don't work:
  â€¢ MongoDB Atlas Support: https://www.mongodb.com/support
  â€¢ Your ISP: Report if MongoDB Atlas is blocked
  â€¢ Check: https://status.mongodb.com (MongoDB status page)

================================================================================
